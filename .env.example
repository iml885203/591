# 591-crawler Environment Configuration Template
# Copy this file to .env and configure your values

# =============================================================================
# Core Configuration
# =============================================================================
DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/YOUR_WEBHOOK_ID/YOUR_WEBHOOK_TOKEN
NOTIFICATION_DELAY=1000
API_PORT=3000
API_KEY=your-secret-api-key-here

# =============================================================================
# Database Configuration (PostgreSQL Recommended)
# =============================================================================
DATABASE_URL=postgresql://username:password@localhost:5432/database_name
DATABASE_PROVIDER=postgresql

# Connection Pool Settings
DB_CONNECTION_LIMIT=10
DB_POOL_TIMEOUT=10
DB_CONNECTION_TIMEOUT=5
DB_STATEMENT_CACHE_SIZE=100

# Transaction Settings
DB_TRANSACTION_TIMEOUT=120000

# Deployment Optimization Settings
SKIP_DB_OPTIMIZATION=false  # Set to 'true' to skip optimization on startup

# =============================================================================
# Performance Optimization Settings
# =============================================================================

# Query Cache Configuration
DB_QUERY_CACHE_SIZE=100
DB_QUERY_CACHE_TTL=300000

# Cache Settings (DatabaseStorage MemoryCache)
DB_CACHE_ENABLED=true
DB_CACHE_MAX_SIZE=100
DB_CACHE_TTL_MS=60000

# =============================================================================
# Development/Testing Configuration
# =============================================================================

# Test Database (Docker PostgreSQL)
TEST_DATABASE_URL=postgresql://test_user:test_password@localhost:5433/test_crawler

# Legacy SQLite (for development only)
# DATABASE_PROVIDER=sqlite
# DATABASE_URL="file:./data/crawler.db"

# Logging
NODE_ENV=development
VERBOSE_TESTS=false

# =============================================================================
# Railway Production Settings (Reference)
# =============================================================================

# Railway automatically provides:
# - DATABASE_URL (PostgreSQL)
# - PORT (for API server)
# - RAILWAY_ENVIRONMENT=production

# You need to set in Railway dashboard:
# - DISCORD_WEBHOOK_URL
# - API_KEY
# - DB_TRANSACTION_TIMEOUT=120000
# - DB_CACHE_ENABLED=true
# - DB_QUERY_CACHE_SIZE=200
# - DB_QUERY_CACHE_TTL=300000